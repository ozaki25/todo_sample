(function(){var a,b,c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;d=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return g(c,a),c.prototype.tagName="li",c.prototype.className="list-group-item",c.prototype.template=_.template($("#item-template").html()),c.prototype.events={"click .todo-title":"edit","click .destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},c.prototype.initialize=function(){return console.log("TodoView.initialize"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove)},c.prototype.render=function(){return console.log("TodoView.render"),this.$el.html(this.template(this.model.toJSON())),this.$input=this.$(".edit"),this},c.prototype.edit=function(){return console.log("TodoView.edit"),this.$(".todo").addClass("hidden"),this.$input.removeClass("hidden"),this.$input.focus()},c.prototype.close=function(){var a;return console.log("TodoView.close"),a=this.$input.val().trim(),a?this.model.save({title:a}):this.clear(),this.$(".todo").removeClass("hidden"),this.$input.addClass("hidden")},c.prototype.updateOnEnter=function(a){return console.log("TodoView.updateOnEnter"),a.which===b?this.close():void 0},c.prototype.clear=function(){return console.log("TodoView.clear"),this.model.destroy()},c}(Backbone.View),a=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return g(c,a),c.prototype.el=".todoapp",c.prototype.events={"keypress .new-todo":"createOnEnter"},c.prototype.initialize=function(){return console.log("AppView.initialize"),this.$input=$(".new-todo"),this.$list=$(".todo-list"),this.listenTo(f,"add",this.addOne),this.listenTo(f,"reset",this.addAll),f.fetch({reset:!0})},c.prototype.render=function(){return console.log("AppView.render"),f.length?this.$list.show():this.$list.hide()},c.prototype.addOne=function(a){var b;return console.log("AppView.addOne"),b=new d({model:a}),this.$list.append(b.render().el)},c.prototype.addAll=function(){return console.log("AppView.addAll"),this.$list.html(""),f.each(this.addOne,this)},c.prototype.newAttributes=function(){return console.log("AppView.newAttribute"),{title:this.$input.val().trim(),order:f.nextOrder(),completed:!1}},c.prototype.createOnEnter=function(a){return console.log("AppView.createOnEnter"),a.which===b&&this.$input.val().trim()?(f.create(this.newAttributes()),this.$input.val("")):void 0},c}(Backbone.View),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.defaults={title:"",completed:!1},b}(Backbone.Model),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.model=c,b.prototype.localStorage=new Backbone.LocalStorage("todos-backbone"),b.prototype.nextOrder=function(){return console.log("Todos.nextOrder"),this.length?this.last().get("order1"):1},b.prototype.comparator="order",b}(Backbone.Collection),f=new e,b=13,new a}).call(this);
//# sourceMappingURL=todo_sample.min.js.map